<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Apidae Date</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="../favicon.ico">
  <link href="../styles.bundle.css" rel="stylesheet"/>
  <script>
    function formOptions() {
      return {
        title: 'Objet test',
        subtitle: 'Période du 01/01/2018 au 31/12/2018',
        externalId: document.getElementById('external_id').value,
        externalType: 'PATRIMOINE_NATUREL',
        externalRef: '13579',
        type: 'apidae_period',
        startDate: '2018-06-01',
        endDate: '2018-11-15',
        onSubmit: function () {
          console.log('Submit callback');
        },
        onCancel: function () {
          console.log('Cancel callback');
        },
        onDismiss: function () {
          console.log('Dismiss callback');
        },
        onLoad: function () {
          console.log('Load callback');
        }
      }
    }

    function displayOptions() {
      return {
        title: 'Objet test',
        subtitle: 'Période du 01/01/2018 au 31/12/2018',
        externalId: document.getElementById('external_id').value,
        type: 'apidae_period',
        onLoad: function () {
          console.log('Load callback');
        }
      }
    }
  </script>
</head>
<body style="background-color: #dedede;">
<div class="txtcenter">
  <h1 class="txtcenter">Apidae Date</h1>
  <label for="external_id">Identifiant de la période d'ouverture : </label><input id="external_id" type="text"
                                                                                  name="external_id"/>
  <button type="button" onclick="openApidateForm(formOptions())">Ouvrir un formulaire de saisie</button>
  <button type="button" onclick="openApidateDisplay(displayOptions())">Afficher la saisie</button>
</div>
<script type="text/javascript" src="../inline.bundle.js"></script>
<script type="text/javascript" src="../polyfills.bundle.js"></script>
<script type="text/javascript" src="../main.bundle.js"></script>
<script>
  document.getElementsByTagName('body')[0].addEventListener('apidate:refresh', function() {
    console.log('received apidate:refresh event');
  }, false);
</script>
</body>
</html>
